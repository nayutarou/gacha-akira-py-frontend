# ガチャシミュレーター・フロントエンド

このプロジェクトは、ReactとViteを使用して構築されたシンプルなガチャ（くじ引き）シミュレーターのフロントエンドアプリケーションです。ユーザーは単発または10連ガチャを引くことができ、その結果の履歴や統計情報を確認できます。

## 主な機能

- **単発ガチャ**: 1回ずつガチャを引くことができます。
- **10連ガチャ**: 一度に10回まとめてガチャを引くことができます。
- **結果表示**: ガチャで引いたアイテムを画面に表示します。
- **履歴確認**: 今まで引いたガチャの結果を一覧で確認できる履歴ページがあります。
- **統計情報**: ガチャの総実行回数と、各レアリティの排出率・排出回数を表示します。
- **リセット機能**: ガチャの履歴と統計情報をすべてリセットできます。

## 使用技術

- **フレームワーク**: React
- **ビルドツール**: Vite
- **テスティング**: Vitest, React Testing Library
- **スタイリング**: Tailwind CSS
- **ルーティング**: React Router

## ディレクトリ構成

```
/home/akira/akira/repos/github.com/gacha-akira-py-frontend/
├─── src/
│   ├── app.jsx             # メインアプリケーションコンポーネント
│   ├── GachaContext.jsx    # 状態管理用のReactコンテキスト
│   ├── main.jsx            # アプリケーションのエントリーポイント
│   ├── components/         # 再利用可能なコンポーネント群
│   └── pages/              # ページ単位のコンポーネント
├─── tests/                 # テストコード
│   ├── App.test.jsx
│   ├── GachaContext.test.jsx
│   └── ... (各コンポーネントに対応するテスト)
├─── vite.config.ts         # Viteの設定ファイル
├─── tailwind.config.js     # Tailwind CSSの設定ファイル
└─── package.json           # プロジェクトの依存関係とスクリプト
```

## セットアップと使用方法

1.  **依存関係のインストール**:
    ```bash
    npm install
    ```

2.  **開発サーバーの起動**:
    ```bash
    npm run dev
    ```
    起動後、 `http://localhost:5173` にアクセスしてください。

3.  **本番用ビルド**:
    ```bash
    npm run build
    ```
    `dist` ディレクトリに最適化された静的ファイルが生成されます。

## テスト

プロジェクトには、VitestとReact Testing Libraryを使用した単体・結合テストが含まれています。

**テストの実行**:

```bash
npm run test
```

### テストファイルの概要

各テストファイルは、対応するコンポーネントや機能が期待通りに動作するかを検証します。

-   `tests/App.test.jsx`
    -   **目的**: アプリケーションのメインコンポーネント (`App`) の結合テスト。
    -   **内容**: 初期表示、単発ガチャ・10連ガチャ実行後の表示更新、APIエラー時の挙動、リセットボタンの動作などを検証します。

-   `tests/GachaCounts.test.jsx`
    -   **目的**: 統計情報コンポーネント (`GachaCounts`) の単体テスト。
    -   **内容**: 初期状態（0回）での表示、ガチャ実行後の回数・確率表示が正しく更新されることを確認します。

-   `tests/GachaHistory.test.jsx`
    -   **目的**: ガチャ履歴コンポーネント (`GachaHistory`) の単体テスト。
    -   **内容**: 履歴が空の場合の表示と、履歴がある場合に各アイテムが正しく表示されることを検証します。

-   `tests/HistoryPage.test.jsx`
    -   **目的**: 履歴ページ (`HistoryPage`) の単体テスト。
    -   **内容**: ページが正しくレンダリングされるか、コンテキストから受け取った履歴情報が `GachaHistory` コンポーネントに渡されているかを確認します。

-   `tests/GachaContext.test.jsx`
    -   **目的**: 状態管理ロジック (`GachaContext`) のテスト。
    -   **内容**: コンテキストの初期値、ガチャ結果の追加、履歴と統計のリセット機能が正しく状態を更新するかを検証します。

-   `tests/Button.test.jsx`
    -   **目的**: 汎用ボタンコンポーネント (`Button`) の単体テスト。
    -   **内容**: ボタンが正しく表示され、クリックイベントが発火することを確認します。

-   `tests/Result.test.jsx`
    -   **目的**: 単発ガチャ結果表示コンポーネント (`Result`) の単体テスト。
    -   **内容**: propsとして渡されたガチャ結果が正しく表示されることを確認します。

-   `tests/TenPullDisplay.test.jsx`
    -   **目的**: 10連ガチャ結果表示コンポーネント (`TenPullDisplay`) の単体テスト。
    -   **内容**: 10個の結果がグリッドレイアウトで正しく表示されることを検証します。